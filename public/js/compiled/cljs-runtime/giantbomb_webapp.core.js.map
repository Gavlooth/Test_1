{"version":3,"sources":["giantbomb_webapp/core.cljs"],"mappings":"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","names":["giantbomb-webapp.core/api-key","p__52648","map__52649","cljs.core/--destructure-map","cljs.core.get","G__52650","G__52651","obj52655","clojure.string.join","cljs.core.remove","cljs.core/nil?","G__52652","G__52656","G__52657","obj52659","thump.react/create-element","G__52653","G__52660","G__52661","G__52662","G__52663","G__52666","G__52667","obj52670","G__52668","G__52671","G__52672","obj52674","giantbomb-webapp.core/game-thumbnail","id","image","name","_","goog.dom.dataset/set","utils/query-selector","utils/set-hash!","G__52678","props__42479__auto__","maybe-ref__42480__auto__","vec__52679","helix.core/extract-cljs-props","goog/DEBUG","G__52709","giantbomb-webapp.core/Search-page","vec__52682","cljs.core.nth","map__52685","state","set-state","helix.hooks/use-state","search-term","search-results","p1__52675#","G__52701","G__52702","G__52703","cljs.core/assoc","p1__52676#","helix.core/get-react","helix.core/Fragment","G__52686","G__52687","obj52691","G__52688","G__52692","G__52693","obj52696","G__52694","G__52697","G__52698","obj52700","G__52689","G__52704","G__52705","obj52707","cljs.core.async.take_BANG_","utils/fetch","cljs.pprint.cl_format","x","G__52708","cljs.core.assoc","cljs.core.js__GT_clj","js/JSON","cljs.core.apply","helix.core/$","cljs.core.into","cljs.core.map","G__52712","vec__52713","G__52768","giantbomb-webapp.core/Cheackout-page","vec__52716","map__52719","goog.dom.dataset/get","G__52722","p1__52710#","G__52723","G__52724","obj52730","G__52725","G__52731","G__52732","obj52735","G__52733","G__52736","G__52737","obj52739","cljs.core.clj__GT_js","thump.react/camel-case*","G__52726","G__52740","G__52741","obj52745","G__52742","G__52746","G__52747","obj52750","G__52748","G__52743","G__52751","G__52752","obj52755","G__52753","G__52727","G__52756","G__52757","obj52759","G__52728","G__52760","G__52761","obj52763","G__52764","G__52765","obj52767","and__4251__auto__","js/giantbomb-webapp","js/giantbomb-webapp.core","js/giantbomb-webapp.core.set-page","method-table__4747__auto__","cljs.core.atom","prefer-table__4748__auto__","method-cache__4749__auto__","cached-hierarchy__4750__auto__","hierarchy__4751__auto__","fexpr__52769","cljs.core/MultiFn","cljs.core.symbol","giantbomb-webapp.core/set-page","clojure.string/replace","utils/name*","exp","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","giantbomb-webapp.core/render-page","seq52770","self__4852__auto__","cljs.core/seq","hash","utils/oget-in","js/document","utils.clog","e52771","js/module$node_modules$react_dom$index.render","js/Object","giantbomb-webapp.core/update-routes","seq52772","args","utils/clog","giantbomb-webapp.core/app","seq52773","utils/initialize-hash","utils/attach-event","G__52720","helix.hooks/wrap-fx","G__52721","helix.hooks/raw-use-effect"],"sourcesContent":["(ns giantbomb-webapp.core\n  (:require\n    [thump.core]\n    [thump.react :refer [hiccup-element]]\n    [helix.hooks :as hooks]\n    [helix.core :refer [<>  defnc $ provider]]\n    [helix.dom :as d]\n    [\"react\" :as react]\n    [\"react-dom\" :as rdom]\n    [goog.dom.dataset :as gdataset]\n    [macros :as m]\n    [cljs.pprint :refer [cl-format]]\n    [clojure.string :as str]\n    ;; [goog.events.EventType :as EventType]\n    ;; [giantbomb-webapp.pages.views :refer [set-page]]\n    ;; [clojure.core.match :refer [match]]\n    ;; [goog.events :as events]\n    [utils :as u]\n    [clojure.core.async :as async]))\n\n\n\n\n(def api-key (:api-key (m/read-config)))\n\n(defn game-thumbnail [{:keys [id image name]}]\n   #h/e [:div {:class \"listed-game\"}\n              [:img {:class \"thumbnail-image\" :src (:thumb_url image)}]\n              [:div name [:button {:class \"purchuase-button\"} \n                          [:img  {:on-click (fn [_]\n                                              (gdataset/set (u/query-selector  \"div#giantbomb-webapp\")  \"gameId\" id)\n                                              (gdataset/set (u/query-selector  \"div#giantbomb-webapp\")  \"gameName\" name)\n                                              (gdataset/set (u/query-selector  \"div#giantbomb-webapp\")  \"gameImage\" (:thumb_url image))\n                                              (u/set-hash! \"/purchuase\")) \n                                              \n                                              \n                                  :src \"images/icons8-checkout-96.svg\"\n                                  :width \"24\"}]]]])\n\n#_goog.dom.dataset\n\n\n(defnc Search-page []\n  (let [[state set-state] (hooks/use-state {:search-results [] :search-term \"\"})\n        {:keys  [search-term  search-results]}  state]\n   (<>\n    #h/e [:div {:class \"central-container\"}\n          [:form {:on-submit #(.preventDefault %)\n                  :class \"pure-form search-form\"}\n           [:input {:type \"text\", :class \"pure-input-rounded\"\n                    :on-change #(set-state assoc :search-term (.. % -target -value))}]]\n          [:input {:class \"pure-button-primary\"\n                   :type \"button\"\n                   :value \"search for game\"\n                   :on-click (fn [_]\n                               (when state\n                                (async/take! (u/fetch\n                                                      (cl-format nil\n\n                                                                 \"https://www.giantbomb.com/api/accessories/?api_key=~a&format=json&filter=name:~a&field_list=name,id,image\" api-key search-term)\n                                                                 ;; \"https://www.giantbomb.com/api/accessories/?api_key=~a&format=json&query=~a&resources=game\" api-key search-term)\n                                                      { :method \"get\"})\n                                             (fn [x]  (set-state (assoc x :search-results  (:results (js->clj (.parse js/JSON (:body x)) :keywordize-keys true))))))))}]]\n    (apply $  (into [:div  {:class \"thumbnail-container\"}]\n                    (map  game-thumbnail search-results))))))\n\n\n\n\n(defnc Cheackout-page []\n  (let [[state set-state] (hooks/use-state {})\n        {:keys  [id name image]}  state]\n   (hooks/use-effect  []\n                     (let [\n                             id (gdataset/get (u/query-selector  \"div#giantbomb-webapp\")  \"gameId\")\n                             name  (gdataset/get (u/query-selector  \"div#giantbomb-webapp\")  \"gameName\")\n                             image  (gdataset/get (u/query-selector  \"div#giantbomb-webapp\")  \"gameImage\")]\n                      (set-state #(assoc % :id id :name name :image image))))\n                     \n   (if  (and id name image)\n     #h/e  [:div {:class \"Cart-Items\"} \n            [:div {:class \"image-box\"}\n             [:img {:src  image\n                    :style {:height \"120px\"}}]]\n            [:div {:class \"about\"}\n             [:h1 {:class \"title\"} name]\n             [:h3 {:class \"subtitle\"} \"250ml\"]]\n            [:div {:class \"counter\"}]\n            [:div {:class \"prices\"}]]\n      #h/e [:div {:style {:display \"none\"}}])))\n\n\n(defmulti set-page (fn [x] \n                     (str/replace  (u/name* x) #\"#/\" \"\")))\n\n(defmethod set-page \"index\" [_] Search-page)\n\n\n(defmethod set-page \"purchuase\" [_] Cheackout-page)\n\n\n(defmethod set-page :default [exp]\n  (u/set-hash! \"/index\")\n  Search-page)\n\n(defn render-page    [& _]\n (let [hash (u/oget-in js/document ['location 'hash])]\n   (u/clog \"rendering\")\n   (try\n    (rdom/render\n      ($ (set-page hash))\n      (u/query-selector  \"div#giantbomb-webapp\"))\n    (catch js/Object exp (u/clog exp)))))\n\n\n\n(defn update-routes [& args]\n  (apply u/clog args))\n(defn ^:export app [& _]\n  (u/initialize-hash)\n  (render-page)\n  (u/attach-event :popstate  render-page))\n  \n  \n"]}